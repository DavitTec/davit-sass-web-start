name: Build and Deploy


on:
push:
branches: [ main ]


jobs:
build:
runs-on: ubuntu-latest


steps:
- name: Checkout
uses: actions/checkout@v4


- name: Set up Node
uses: actions/setup-node@v4
with:
node-version: 20
cache: 'pnpm'


- name: Install pnpm
uses: pnpm/action-setup@v3
with:
version: 8


- name: Install Dependencies
run: pnpm install


- name: Build Project
run: |
pnpm build
# example: pnpm build should output to build/


- name: Deploy to GitHub Pages
uses: peaceiris/actions-gh-pages@v3
with:
github_token: ${{ secrets.GITHUB_TOKEN }}
publish_dir: ./public